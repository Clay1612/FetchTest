{"version":3,"sources":["index.js"],"names":["requestURL","layoutRow","document","querySelector","viewMoreButton","rememberCount","counter","postTitleInput","getElementById","postTextInput","addPostButton","sendGetRequest","url","fetch","then","response","json","sendPostRequest","method","body","headers","JSON","stringify","data","addElements","addNewPost","postBody","title","value","console","log","addEventListener","createCard","card","content","cloneNode","titleContent","cardContent","innerHTML","setAttribute","count","fragment","DocumentFragment","i","append"],"mappings":"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","sourcesContent":["'use strict'\n\n//Request URL\nconst requestURL = 'https://jsonplaceholder.typicode.com/posts';\n\n//Variables\nlet layoutRow = document.querySelector('.row');\nlet viewMoreButton = document.querySelector('.btn-secondary');\nlet rememberCount = 0;\nlet counter = 6;\nlet postTitleInput = document.getElementById('recipient-name');\nlet postTextInput = document.getElementById('message-text');\nlet addPostButton = document.getElementById('addPostButton');\n\n//FETCH Functions\n//GET\nfunction sendGetRequest(url) {\n  return fetch(url)\n    .then(response => {\n      return response.json()\n    })\n}\n\n//Post\nfunction sendPostRequest(method, url, body = null) {\n  const headers = {\n    'Content-Type': 'application/json'\n  }\n\n  return fetch(url, {\n    method : method,\n    body: JSON.stringify(body),\n    headers: headers\n  }).then(response => {\n    return response.json()\n  })\n}\n\n//Requests\n//GET\nsendGetRequest(requestURL)\n  .then(data => {\n    addElements(data, 6)\n  })\n\n//Post\nfunction addNewPost() {\n  const postBody = {\n    title: postTitleInput.value,\n    body: postTextInput.value,\n  }\n\n  sendPostRequest('POST', requestURL, postBody)\n  .then(data => {\n    console.log(data)\n  })  \n}\n\naddPostButton.addEventListener('click', addNewPost);\n\n//Template functions\nfunction createCard(data) {\n  const card = document.querySelector('template').content.querySelector('.js-my-card').cloneNode(true);\n  const titleContent = card.querySelector('.card-title');\n  const cardContent = card.querySelector('.card-text');\n  try {\n    titleContent.innerHTML = data.title;\n    cardContent.innerHTML = data.body;\n\n    return card;\n  }\n  catch {\n    viewMoreButton.setAttribute('disabled', 'disabled');\n    // if(data.title === undefined) {\n    //   titleContent.innerHTML = '';\n    //   cardContent.innerHTML = '';\n    // }                                   \n    // Вариант где последние 4 карты не покажутся, зато не будет underfined текста\n  }\n}\n\nfunction addElements(data, count) {\n  let fragment = new DocumentFragment();\n\n  for (let i = rememberCount; i < counter; i++) {\n    fragment.append(createCard(data[i]));\n  }\n\n  layoutRow.append(fragment);\n\n  rememberCount += count;\n  counter +=count;\n}\n\n//Event Listener on button View More\nviewMoreButton.addEventListener('click', () => {\n  sendGetRequest(requestURL)\n  .then(data => {\n    addElements(data, 6)\n  })\n});\n"],"file":"index.js"}